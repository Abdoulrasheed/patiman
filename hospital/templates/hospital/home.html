{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Patience Information Management System</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Swiper CSS -->
    <link rel="stylesheet" href="{% static 'css/swiper.min.css' %}">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/css-spinning-spinners/1.1.0/load1.css" />

    <style type="text/css">
        .loading:before { font-size: 20px; }
    </style>

    <!-- Styles -->
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <script src="{% static 'js/custom.js' %}"></script>
</head>
<body>
    <header class="site-header">
        <div class="nav-bar">
            <div class="container">
                <div class="row">
                    <div class="col-12 d-flex flex-wrap justify-content-between align-items-center">
                        <div class="site-branding d-flex align-items-center">
                           <a style="font-size: 15px; color: #fff; text-transform: uppercase; letter-spacing: 2px" class="d-block" href="{% url 'home_page' %}" rel="home">
                            Mautech Clinic Datamining Tool</a>
                        </div><!-- .site-branding -->

                        <nav class="site-navigation d-flex justify-content-end align-items-center">
                            <ul class="d-flex flex-column flex-lg-row justify-content-lg-end align-items-center">
                                <li class="current-menu-item"><a href="{% url 'home_page' %}">Home</a></li>
                                <li><a href="{% url 'add_patient' %}">Register Student</a></li>
                                <li><a href="{% url 'logout' %}"> {{ request.user|title }} (Logout)</a></li>
                            </ul>
                        </nav><!-- .site-navigation -->

                        <div class="hamburger-menu d-lg-none">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                        </div><!-- .hamburger-menu -->
                    </div><!-- .col -->
                </div><!-- .row -->
            </div><!-- .container -->
        </div><!-- .nav-bar -->

    </header><!-- .site-header -->
    <div class="subscribe-banner">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-8 offset-lg-2">
                    <h2>Search for a student</h2>

                    <form>
                        <input style="border-radius: 10px" type="email" class="search-box" placeholder="Search by Student ID, Firstname, Lastname or Othername">
                        <input class="button gradient-bg" type="submit" value="Search">
                    </form>
                </div>
            </div>
        </div>
    </div>
        <div class="homepage-boxes">
        <div class="container">
            <span class="detail-loader"></span>
            <div class="row detail-data" id="detail-data"></div>
        </div>
    </div>
    <div style="position: absolute; top: 300px; left: 500px; display: none;" class="search-results">
        <span class="search-results-header text-white">Search Results</span>
        <span class="loader"></span>
        <button type="button" class="close" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="row">
            <div class="col-12 col-md-6 col-lg-4">
                <table class="table table-dark table-striped table-bordered">
                    <thead>
                        <tr>
                          <th scope="col">#</th>
                          <th scope="col">Name</th>
                          <th scope="col">Level</th>
                          <th scope="col">Department</th>
                          <th scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody class="search-results-body"></tbody>
                </table>
            </div>
        </div>
    </div>
    <!--
    <footer class="site-footer">
        <div class="footer-widgets">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-md-6 col-lg-4">
                        <div class="foot-about">
                            <h2><a href="#"><img src="{% static 'images/logo2.png' %}" alt=""></a></h2>

                            <p>We have 39 hospitals and one specialist cancer centre, across the NorthEast. Goto any of our locations to find out about getting fast access and treatment fpr you.

</p>

                            <p class="copyright">Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | TheRootTeam
                            </p>
                        </div>
                    </div>

                    <div class="col-12 col-md-6 col-lg-4 mt-5 mt-md-0">
                        <div class="foot-contact">
                            <h2>Contact</h2>

                            <ul class="p-0 m-0">
                                <li><span>Addtress:</span>No. 12, ABC Steet, Yola South</li>
                                <li><span>Phone:</span>070333333333</li>
                                <li><span>Email:</span>mel@example.com</li>
                            </ul>
                        </div>
                    </div><!-- .col 

                    <div class="col-12 col-md-6 col-lg-4 mt-5 mt-md-0">
                        <div class="foot-links">
                            <h2>Navogations</h2>

                            <ul class="p-0 m-0">
                                <li><a href="/">Home</a></li>
                                <li><a href="#">Register</a></li>
                                <li><a href="#">Login</a></li>
                            </ul>
                        </div><!-- .foot-links ->
                    </div><!-- .col ->
                </div><!-- .row ->
            </div><!-- .container ->
        </div><!-- .footer-widgets ->
    </footer><!-- .site-footer 
-->

    <script type='text/javascript' src="{% static 'js/jquery.js' %}"></script>
    <script type='text/javascript' src="{% static 'js/jquery.collapsible.min.js' %}"></script>
    <script type='text/javascript' src="{% static 'js/swiper.min.js' %}"></script>
    <script type='text/javascript' src="{% static 'js/jquery.countdown.min.js' %}"></script>
    <script type='text/javascript' src="{% static 'js/circle-progress.min.js' %}"></script>
    <script type='text/javascript' src="{% static 'js/jquery.countTo.min.js' %}"></script>
    <script type='text/javascript' src="{% static 'js/jquery.barfiller.js' %}"></script>
    <script type='text/javascript' src="{% static 'js/custom.js' %}"></script>
    <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
    <script type="text/javascript">
        $(".close").click(function(){
            $(".search-results").hide(1500);
        });

        $(".search-box").keyup(function(e){
            $(".search-results").show(1500);
            let value = $(this).val();
            $.ajax({
                url: "{%  url 'search' %}",
                data: {
                    'q': value,
                },

                beforeSend: function(){
                    $('.loader').addClass('loading');
                },

                complete: function(){
                    $('.loader').removeClass('loading');
                },

                success: function(data){
                    $('.search-results-body').html(data);
                    detail_ready();
                }
            })
        });

        function detail_ready(){
             $(".view-detail").click(function(){
            let id = $(this).attr('student-id');
            
            // scroll page and animating !

            $("html, body").animate({ scrollTop: 480 }, 1000);

            // ends of scrolling

            $.ajax({
                url: "{%  url 'search_detail' %}",
                data: {
                    'id': id,
                },

                beforeSend: function(){
                    $('.detail-loader').addClass('loading');
                },

                complete: function(){
                    $('.detail-loader').removeClass('loading');
                },

                success: function(data){
                    $('.detail-data').html(data);
                }
            })
        });}

        function printData(){
           var divToPrint=document.getElementById("detail-data");
           newWin= window.open("");
           newWin.document.write(divToPrint.outerHTML);
           newWin.print();
           newWin.close();
        }
    </script>
</body>
</html>